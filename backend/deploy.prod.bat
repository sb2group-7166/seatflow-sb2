@echo off
echo ğŸš€ Starting production deployment process...

echo ğŸ“ Loading environment variables...
for /f "tokens=*" %%a in (.env.production) do set %%a

echo ğŸ“¦ Building Docker image...
docker build -t seatflow-backend:prod .

echo ğŸ›‘ Stopping existing containers...
docker-compose -f docker-compose.prod.yml down

echo ğŸš€ Starting containers...
docker-compose -f docker-compose.prod.yml up -d

echo â³ Waiting for MongoDB to be ready...
timeout /t 10

echo ğŸ“ Running database migrations...
docker-compose -f docker-compose.prod.yml exec app npm run migrate

echo âœ… Production deployment completed successfully!
echo ğŸŒ API is available at https://your-api-domain.com 